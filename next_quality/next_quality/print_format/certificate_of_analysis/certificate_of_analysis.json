{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2021-04-09 13:56:18.577993",
 "css": ".textcenter{\n        text-align:center;\n}\n.borderclass{\n    border-bottom: 1px solid dodgerblue;\n}\ntable {\n    width:100%;\n    text-align:left;\n    border-collapse: collapse;\n}\n\ntable, td, th {\n    /*width:50%;*/\n    border: 1px solid dodgerblue;\n    font-size:10px;\n    \n}\n.print-format{\n    padding: 12px !important;\n    margin-bottom: 0px;\n    margin-top:0px;\n}",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "html": "{%- for item in doc.items -%}\n    {%- if item.batch_no -%}\n\n        {% set batch %}{% endset %}\n        {% if item.batch_no %}\n            {%- set batch=frappe.get_doc(\"Batch\",item.batch_no) -%}\n        {% endif %}\n        {% set c %}{% endset %}\n        {% if batch.quality_inspection%}\n            {%- set c=frappe.get_doc(\"Quality Inspection\",batch.quality_inspection) -%}\n        {% endif %}\n        {% set b %}{% endset %}\n        {% if doc.quality_inspection%}\n            {%- set b=frappe.get_doc(\"Quality Inspection Template\",{\"quality_inspection_template_name\":c.quality_inspection_template}) -%}\n        {% endif %}\n        {% set sta %}{% endset %}\n        {% if item.sales_order and doc.customer%}\n            {%- set sta=frappe.db.get_value(\"Customer Quality Inspection\",{\"sales_order\":item.sales_order,\"customer\":doc.customer},[\"name\"],as_dict=1) -%}\n        {% endif %}\n        {% set st %}{% endset %}\n        {% if sta %}\n        {% if item.sales_order and doc.customer %}\n            {%- set st=frappe.get_doc(\"Customer Quality Inspection\",{\"sales_order\":item.sales_order,\"item\":item.item_code,\"customer\":doc.customer}) -%}\n        {% endif %}\n        {% endif %}\n        <table>\n            <tr>\n                <td>\n                    {% if letter_head %}\n                        {{ letter_head }}\n                    {% endif %}\n                \n                </td>\n            </tr>\n        </table>\n        <table>\n            <tr>\n                <td>\n                    <br>\n                    \n                    <div style=\"font-size: 16px;text-align: center; \">\n                        <b>CERTIFICATE OF ANALYSIS</b>\n                    </div>\n                    <br>\n                </td>\n            </tr>\n        </table>\n        <div>\n        {% if batch.expiry_date %}\n            <table>\n                <tr>\n                    <td style=\"width: 50%;\">\n                        <div class=\"row\">\n                            <div class=\"col-xs-4\">\n                                <b>{{ _(\"Product\") }}</b>\n                            </div>\n                            <div class=\"col-xs-8\">\n                                :&nbsp;\n                                {% if item.item_name %}\n                                    {{item.item_name}}\n                                {% endif %}\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-xs-4\">\n                                <b>{{ _(\"Customer Name\") }}</b>\n                            </div>\n                            <div class=\"col-xs-8\">\n                                :&nbsp;\n                                {% if doc.customer_name %}\n                                    {{doc.customer_name}}\n                                {% endif %}\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-xs-4\">\n                                <b>{{ _(\"Invoice No\") }}</b>\n                            </div>\n                            <div class=\"col-xs-8\">\n                                :&nbsp;\n                                {% if doc.name %}\n                                    {{doc.name}}\n                                {% endif %}\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-xs-4\">\n                                <b>{{ _(\"Dated\") }}</b>\n                            </div>\n                            <div class=\"col-xs-8\">\n                                :&nbsp;\n                                {% if doc.posting_date %}\n                                    {{doc.get_formatted(\"posting_date\")}}\n                                {% endif %}\n                            </div>\n                        </div>\n                    </td>\n                    <td style=\"width: 50%;\">\n                        <div class=\"row\">\n                            <div class=\"col-xs-4\">\n                                <b>{{ _(\"BATCH NO\") }}</b>\n                            </div>\n                            <div class=\"col-xs-8\">\n                                :&nbsp;\n                                {% if item.batch_no %}\n                                    {{item.batch_no}}\n                                {% endif %}\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-xs-4\">\n                                <b>{{ _(\"Date of Mfg.\") }}</b>\n                            </div>\n                            <div class=\"col-xs-8\">\n                                :&nbsp;{% if batch.manufacturing_date %}\n                                            {{ batch.get_formatted(\"manufacturing_date\") }}\n                                        {% endif %}\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-xs-4\">\n                                <b>{{ _(\"Date of Exp.\") }}</b>\n                            </div>\n                            <div class=\"col-xs-8\">\n                                :&nbsp;{% if batch.expiry_date %}\n                                            {{ batch.get_formatted(\"expiry_date\") }}\n                                        {% endif %}\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-xs-4\">\n                                <b>{{ _(\"Quantity\") }}</b>\n                            </div>\n                            <div class=\"col-xs-8\">\n                                <!--:&nbsp;{% if item.total_weight %}{{item.total_weight}}{% endif %}&nbsp;{% if item.weight_uom %}{{item.weight_uom}}{% endif %}-->\n                                 :&nbsp;{% if item.qty %}\n                                    {{item.qty}}\n                                {% endif %}\n                            </div>\n                        </div>\n                    </td>\n                </tr>\n            </table>\n            {% endif %}\n            {% if not batch.expiry_date %}\n            <table>\n                <tr>\n                    <td style=\"width: 50%;\">\n                        <div class=\"row\">\n                            <div class=\"col-xs-4\">\n                                <b>{{ _(\"Product\") }}</b>\n                            </div>\n                            <div class=\"col-xs-8\">\n                                :&nbsp;\n                                {% if item.item_name %}\n                                    {{item.item_name}}\n                                {% endif %}\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-xs-4\">\n                                <b>{{ _(\"Customer Name\") }}</b>\n                            </div>\n                            <div class=\"col-xs-8\">\n                                :&nbsp;\n                                {% if doc.customer_name %}\n                                    {{doc.customer_name}}\n                                {% endif %}\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-xs-4\">\n                                <b>{{ _(\"Invoice No\") }}</b>\n                            </div>\n                            <div class=\"col-xs-8\">\n                                :&nbsp;\n                                {% if doc.name %}\n                                    {{doc.name}}\n                                {% endif %}\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-xs-4\">\n                                <b>{{ _(\"Dated\") }}</b>\n                            </div>\n                            <div class=\"col-xs-8\">\n                                :&nbsp;\n                                {% if doc.posting_date %}\n                                    {{doc.get_formatted(\"posting_date\")}}\n                                {% endif %}\n                            </div>\n                        </div>\n                    </td>\n                    <td style=\"width: 50%;\">\n                        <div class=\"row\">\n                            <div class=\"col-xs-4\">\n                                <b>{{ _(\"BATCH NO\") }}</b>\n                            </div>\n                            <div class=\"col-xs-8\">\n                                :&nbsp;\n                                {% if item.batch_no %}\n                                    {{item.batch_no}}\n                                {% endif %}\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-xs-4\">\n                                <b>{{ _(\"Date of Mfg.\") }}</b>\n                            </div>\n                            <div class=\"col-xs-8\">\n                                :&nbsp;{% if batch.manufacturing_date %}\n                                            {{ batch.get_formatted(\"manufacturing_date\") }}\n                                        {% endif %}\n                            </div>\n                        </div>\n                        <!--<div class=\"row\">-->\n                        <!--    <div class=\"col-xs-4\">-->\n                        <!--        <b>{{ _(\"Date of Exp.\") }}</b>-->\n                        <!--    </div>-->\n                        <!--    <div class=\"col-xs-8\">-->\n                        <!--        :&nbsp;{% if batch.expiry_date %}-->\n                        <!--                    {{ batch.get_formatted(\"expiry_date\") }}-->\n                        <!--                {% endif %}-->\n                        <!--    </div>-->\n                        <!--</div>-->\n                        <div class=\"row\">\n                            <div class=\"col-xs-4\">\n                                <b>{{ _(\"Quantity\") }}</b>\n                            </div>\n                            <div class=\"col-xs-8\">\n                                <!--:&nbsp;{% if item.total_weight %}{{item.total_weight}}{% endif %}&nbsp;{% if item.weight_uom %}{{item.weight_uom}}{% endif %}-->\n                                 :&nbsp;{% if item.qty %}\n                                    {{item.qty}}\n                                {% endif %}\n                            </div>\n                        </div>\n                    </td>\n                </tr>\n            </table>\n            {% endif %}\n        {% if sta %}\n            <table>\n                <tr>\n                    <th style=\"width: 5%;\"><b>{{ _(\"Sr No.\") }}</b></th>\n                    <th style=\"width: 30%;\"><b>{{ _(\"Test Parameters\") }}</b></th>\n                    <th style=\"width: 45%;\"><b>{{ _(\"Specification\") }}</b></th>\n                    <th style=\"width: 10%;text-align:center;\"><b>{{ _(\"Result\") }}</b></th>\n                    <th style=\"width: 10%;text-align:center;\"><b>{{ _(\"Remark\") }}</b></th>\n                </tr>\n                {% for i in batch.test_result %}\n                    {%for j in st.item_quality_inspection_parameter%}\n                    {%if j.specification==i.specification %}\n                        {% set e %}{% endset %}\n                        {% if j.specification%}\n                            {%- set e=frappe.get_doc(\"Quality Inspection Parameter\",{\"name\":j.specification}) -%}\n                        {% endif %}\n                    <tr>\n                        <td>{{loop.index}}</td>\n                        <td>\n                            {% if i.specification==j.specification %}\n                                {{j.specification}}\n                            {% endif %}\n                        </td>\n                        <td>\n                       {% if i.min_value==j.min_value %}\n                            between {{j.min_value}} and {{j.max_value}}\n                        {% elif j.acceptance_formula==i.acceptance_formula %}\n                            {{j.acceptance_formula}}\n                        {% elif i.value==j.value %}\n                            {{j.value}}\n                        {% else %}\n                            {% for j in b.item_quality_inspection_parameter %}\n                            {%if i.specification==j.specification%}\n                                {% if j.values%}\n                                    {{j.values}}\n                                {% endif %}\n                            {% endif %}\n                        {% endfor %}\n                        {% endif %}\n                        </td>\n                        <td>\n                        {%if i.specification==j.specification%}\n                        {% if i.reading_1 %}\n                        {% if i.reading_1 %}\n                        <b></b> {{i.reading_1}}<br>\n                        {% endif %}\n                        {% if i.reading_2 %}\n                        <b>reading2:</b> {{i.reading_2}}<br>\n                        {% endif %}\n                        {% if i.reading_3 %}\n                        <b>reading3:</b> {{i.reading_3}}<br>\n                        {% endif %}\n                        {% if i.reading_4 %}\n                        <b>reading4:</b> {{i.reading_4}}<br>\n                        {% endif %}\n                        {% if i.reading_5 %}\n                        <b>reading5:</b> {{i.reading_5}}<br>\n                        {% endif %}\n                        {% if i.reading_6 %}\n                        <b>reading6:</b> {{i.reading_6}}<br>\n                        {% endif %}\n                        {% if i.reading_7 %}\n                        <b>reading7:</b> {{i.reading_7}}<br>\n                        {% endif %}\n                        {% if i.reading_8 %}\n                        <b>reading8:</b> {{i.reading_8}}<br>\n                        {% endif %}\n                        {% if i.reading_9 %}\n                        <b>reading9:</b> {{i.reading_9}}<br>\n                        {% endif %}\n                        {% if i.reading_10 %}\n                        <b>reading10:</b> {{i.reading_10}}<br>\n                        {% endif %}\n                    {% elif i.reading_value %}\n                        {{i.reading_value}}\n                    {% else %}\n                        {{i.parameter_value}}\n                    {% endif %}\n                        </td>\n                        <td>\n                            {% if i.status %}\n                                {{i.status}}\n                            {% endif %}\n                        </td>\n                    </tr>\n                    {% endif %}\n                {% endif %}\n                {% endfor %}\n            {% endfor %}\n            </table>\n        {% endif %}\n        {% if not sta %}\n            <table>\n                <tr>\n                    <th style=\"width: 5%;\"><b>{{ _(\"Sr No.\") }}</b></th>\n                    <th style=\"width: 30%;\"><b>{{ _(\"Test Parameters\") }}</b></th>\n                    <th style=\"width: 45%;\"><b>{{ _(\"Specification\") }}</b></th>\n                    <th style=\"width: 10%;text-align:center;\"><b>{{ _(\"Result\") }}</b></th>\n                    <th style=\"width: 10%;text-align:center;\"><b>{{ _(\"Remark\") }}</b></th>\n                </tr>\n                {% for i in batch.test_result %}\n                    {% set e %}{% endset %}\n                    {% if i.specification%}\n                        {%- set e=frappe.get_doc(\"Quality Inspection Parameter\",{\"name\":i.specification}) -%}\n                    {% endif %}\n                    <tr>\n                        <td>{{loop.index}}</td>\n                        <td>\n                            {% if i.specification %}\n                                {{i.specification}}\n                            {% endif %}\n                        </td>\n                         <td>\n                               {% if i.min_value>0 %}\n                                    between {{i.min_value}} and {{i.max_value}}\n                                {% elif i.acceptance_formula %}\n                                    {{i.acceptance_formula}}\n                                {% elif i.value %}\n                                    {{i.value}}\n                                {% else %}\n                                {% for j in b.item_quality_inspection_parameter %}\n                                    {%if i.specification==j.specification%}\n                                        {% if j.values%}\n                                            {{j.values}}\n                                        {% endif %}\n                                    {% endif %}\n                                {% endfor %}\n                                    \n                                {% endif %}\n                        </td>\n                        <td>\n                    {% if i.reading_1 %}\n                        {% if i.reading_1 %}\n                        <b></b> {{i.reading_1}}<br>\n                        {% endif %}\n                        {% if i.reading_2 %}\n                        <b>reading2:</b> {{i.reading_2}}<br>\n                        {% endif %}\n                        {% if i.reading_3 %}\n                        <b>reading3:</b> {{i.reading_3}}<br>\n                        {% endif %}\n                        {% if i.reading_4 %}\n                        <b>reading4:</b> {{i.reading_4}}<br>\n                        {% endif %}\n                        {% if i.reading_5 %}\n                        <b>reading5:</b> {{i.reading_5}}<br>\n                        {% endif %}\n                        {% if i.reading_6 %}\n                        <b>reading6:</b> {{i.reading_6}}<br>\n                        {% endif %}\n                        {% if i.reading_7 %}\n                        <b>reading7:</b> {{i.reading_7}}<br>\n                        {% endif %}\n                        {% if i.reading_8 %}\n                        <b>reading8:</b> {{i.reading_8}}<br>\n                        {% endif %}\n                        {% if i.reading_9 %}\n                        <b>reading9:</b> {{i.reading_9}}<br>\n                        {% endif %}\n                        {% if i.reading_10 %}\n                        <b>reading10:</b> {{i.reading_10}}<br>\n                        {% endif %}\n                    {% elif i.reading_value %}\n                        {{i.reading_value}}\n                    {% else %}\n                        {{i.parameter_value}}\n                    {% endif %}\n                        </td>\n                        <td>\n                            {% if i.status %}\n                                {{i.status}}\n                            {% endif %}\n                        </td>\n                    </tr>\n                {% endfor %}\n            \n            </table>\n        {% endif %}\n            <table>\n                <tr>\n                    <td style=\"width: 80%;\">\n                        <b>\n                            The product confirms to the specification and is of standard quality.\n                        </b>\n                    </td>\n                    <td style=\"width: 20%; text-align: center; \">\n                        <br><br>\n                        <!--{% if batch.owner %}-->\n                        <!--    {{batch.owner}}-->\n                        <!--{% endif %}<br>-->\n                        Tested by:QC<br>\n                            Department\n                    </td>\n                </tr>\n            </table>\n        </div>\n        \n        <div style=\"font-size: 12px;\">\n            This is computer generated Certificate of Analysis, hence no signature is required.\n        </div>\n        <div class=\"page-break\"></div>\n    {%- endif -%}\n{%- endfor -%}",
 "idx": 0,
 "line_breaks": 0,
 "modified": "2021-07-10 16:53:01.114995",
 "modified_by": "Administrator",
 "module": "Next Quality",
 "name": "Certificate Of Analysis",
 "owner": "Administrator",
 "print_format_builder": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}